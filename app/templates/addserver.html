{% extends "frame.html" %}
{% import "bootstrap_form.html" as btstrp %}
{% block page_wrapper %}
{% if data['page_data']['add_result'] %}
    <div class="row"><div class="col-lg-12">
        {% set result = data['page_data']['add_result'] %}
        {% if result['status'] == 0 %}
            <div class="alert alert-success alert-dismissable">
                <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                {{ result['msg'] }}
            </div>
        {% else %}
            <div class="alert alert-danger alert-dismissable">
                <button type="button" class="close" data-dismiss="alert" aria-hidden="true">×</button>
                {{ result['msg'] }}
            </div>
        {% endif %}
    </div></div>
{% endif %}
<div class="row">
    <div class="col-lg-12">
        <div class="panel panel-default">
            <div class="panel-heading">
                Please Input Server Info
            </div>
            <div class="panel-body">
                <form role="form" action="{{ url_for('add_server') }}" method="POST">
                <div class="row">
                    {%  set form = data['form'] %}
                    <!-- left column part -->
                    <div class="col-lg-6">
                            <!-- input class="form-control" id="submit" type="text" value="1" visible="false" -->
                        <div class="form-group">
                            {{ btstrp.render_field(form.server_id, label_visible=true, value=data['form_data']['server_id']) }}
                        </div>
                        <div class="form-group">
                            {{ btstrp.render_field(form.server_ip, label_visible=true, value=data['form_data']['server_ip']) }}
                        </div>
                        <div class="form-group">
                            {{ btstrp.render_field(form.server_name, label_visible=true, value=data['form_data']['server_name']) }}
                        </div>
                        <div class="form-group">
                            {{ btstrp.render_field(form.owner, label_visible=true, value=data['form_data']['owner']) }}
                        </div>
                    </div>
                    <!-- right column part -->
                    <div class="col-lg-6">
                        <div class="form-group">
                            {{ btstrp.render_field(form.env, label_visible=true, value=data['form_data']['env']) }}
                        </div>
                        <div class="form-group">
                            {{ btstrp.render_field(form.server_status, label_visible=true, value=data['form_data']['server_status']) }}
                        </div>
                        <div class="form-group">
                            {{ btstrp.render_field(form.use_status, label_visible=true, value=data['form_data']['use_status']) }}
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <button type="submit" class="btn btn-success">Save</button>
                        <a href="{{ url_for('server_list') }}" type="button" class="btn btn-default">Cancel</a>
                    </div>
                </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}